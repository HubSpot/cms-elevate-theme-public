<!--
  templateType: section
  label: Features
  isAvailableForNewContent: true
  landingPageSectionCategories: [PRODUCTS_AND_SERVICES]
  goals: [SHOWCASE_WORK]
  scaffoldSchemaPath: ./schemas/features.scaffold_schema.json
  screenshotPath: ../images/section-previews/features.png
  description: "Section with a centered heading at the top and a left aligned image and right aligned list of product features below."
-->

{#
  Context variables
    - section_variant: The variant of the section style.
    - background_color: The background color of the section.
    - heading.heading_level: The heading level for the section heading.
    - heading.text: The text for the section heading.
    - description: The description text for the features section.
    - image.src: The source URL for the feature image.
    - image.alt: The alt text for the feature image.
    - image.width: The width of the feature image.
    - image.height: The height of the feature image.
    - features: An array of feature items.
    - features[0-7].icon: The icon for each feature item.
    - features[0-7].heading.heading_level: The heading level for each feature item.
    - features[0-7].heading.text: The text for each feature item.
    - features[0-7].content: The content for each feature item.
#}

{# Section variables #}

{% set template_translations = load_translations("../templates/_locales", html_lang, "en") %}
{% import "../helpers/variables.hubl.html" %}
{% set section_variant = context.section_variant or "section_variant_1" %}

{# Section #}

{% dnd_section
  background_color={{ context.background_color }}
%}
  {% dnd_column %}
    {% dnd_row %}
      {% dnd_module
        path="../components/modules/Anchor",
        anchor={{ context.anchor_id or scaffold_content.anchor.anchor_id }}
      %}
      {% end_dnd_module %}
    {% end_dnd_row %}
    {% dnd_row %}
      {% dnd_module
        path="../components/modules/Heading",
        headingAndTextHeadingLevel={{ context.heading.heading_level or "h2" }},
        headingAndTextHeading={{ context.heading.text or scaffold_content.heading or template_translations.section_features_heading.message }},
        groupStyle={
          "alignment": {
            "text_align": "CENTER"
          },
          "headingStyleVariant": "h2",
          "sectionStyleVariant": section_variant
        }
      %}
      {% end_dnd_module %}
    {% end_dnd_row %}
    {% dnd_row
      margin={
        "default": {
          "bottom": spacing_32
        },
        "mobile": {
          "bottom": 0
        }
      }
    %}
      {% dnd_module
        path="../components/modules/RichText",
        groupStyle={
          "sectionStyleVariant": section_variant
        }
      %}
        {% module_attribute "richTextContentHTML" %}
          <div style="text-align: center;">
            <p>{{ context.description or scaffold_content.description or template_translations.section_features_content.message }}</p>
          </div>
        {% end_module_attribute %}
      {% end_dnd_module %}
    {% end_dnd_row %}
    {% dnd_row %}
      {% dnd_column
        width=4,
        padding={
          "default": {
            "bottom": 0
          },
          "mobile": {
            "bottom": spacing_32
          }
        }
      %}
        {% dnd_row %}
          {% dnd_module
            path="@hubspot/linked_image",
            img={
              "alt": context.image.alt or scaffold_content.image.alt or "",
              "loading": context.image.loading or "lazy",
              "max_height": context.image.height or scaffold_content.image.height or 524,
              "max_width": context.image.width or scaffold_content.image.width or 372,
              "size_type": "auto_custom_max",
              "src": context.image.src or scaffold_content.image.src or get_asset_url("../images/features.png"),
            }
          %}
          {% end_dnd_module %}
        {% end_dnd_row %}
      {% end_dnd_column %}
      {% dnd_module
        path="../components/modules/FeatureList",
        groupFeatures=[
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[0].icon or "file-pen"
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[0].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[0].heading.text or scaffold_content.group_feature_one.heading or template_translations.section_features_feature_one_heading.message,
              "featureDescription": context.features[0].content or scaffold_content.group_feature_one.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[1].icon or "chart-simple"
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[1].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[1].heading.text or scaffold_content.group_feature_two.heading or template_translations.section_features_feature_two_heading.message,
              "featureDescription": context.features[1].content or scaffold_content.group_feature_two.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[2].icon or "message",
                "type": "SOLID"
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[2].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[2].heading.text or scaffold_content.group_feature_three.heading or template_translations.section_features_feature_three_heading.message,
              "featureDescription": context.features[2].content or scaffold_content.group_feature_three.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[3].icon or "puzzle-piece",
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[3].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[3].heading.text or scaffold_content.group_feature_four.heading or template_translations.section_features_feature_four_heading.message,
              "featureDescription": context.features[3].content or scaffold_content.group_feature_four.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[4].icon or "wand-magic-sparkles",
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[4].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[4].heading.text or scaffold_content.group_feature_five.heading or template_translations.section_features_feature_five_heading.message,
              "featureDescription": context.features[4].content or scaffold_content.group_feature_five.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[5].icon or "calendar-days",
                "type": "SOLID"
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[5].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[5].heading.text or scaffold_content.group_feature_six.heading or template_translations.section_features_feature_six_heading.message,
              "featureDescription": context.features[5].content or scaffold_content.group_feature_six.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[6].icon or "robot",
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[6].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[6].heading.text or scaffold_content.group_feature_seven.heading or template_translations.section_features_feature_seven_heading.message,
              "featureDescription": context.features[6].content or scaffold_content.group_feature_seven.description or template_translations.section_features_feature_content.message
            }
          },
          {
            "groupIcon": {
              "showIcon": true,
              "icon": {
                "name": context.features[7].icon or "share-nodes",
              }
            },
            "groupFeatureContent": {
              "headingAndTextHeadingLevel": context.features[7].heading.heading_level or "h3",
              "headingAndTextHeading": context.features[7].heading.text or scaffold_content.group_feature_eight.heading or template_translations.section_features_feature_eight_heading.message,
              "featureDescription": context.features[7].content or scaffold_content.group_feature_eight.description or template_translations.section_features_feature_content.message
            }
          }
        ],
        groupStyle={
          "sectionStyleVariant": section_variant,
          "headingStyleVariant": "h5"
        },
        offset=4,
        width=8
      %}
      {% end_dnd_module %}
    {% end_dnd_row %}
  {% end_dnd_column %}
{% end_dnd_section %}
