<!--
  templateType: page
  isAvailableForNewContent: true
  label: Landing page - newsletter subscribe 1
  goals: [ATTRACT_SUBSCRIBERS_TO_A_NEWSLETTER]
  screenshotPath: ../images/template-previews/lp-newsletter-subscribe-one.png
  scaffoldSchemaPath: ./schemas/lp-newsletter-subscribe-one.scaffold_schema.json
-->
{% extends "./layouts/base.hubl.html" %}

{% block header %}
  {% global_partial path="./partials/lp-header.hubl.html" %}
{% endblock header %}

{% set experts_section_content = "<p>{{ scaffold_content.group_experts_insights.content or template_translations.lp_newsletter_subscribe_one_experts_content.message }}</p>" %}

{% block body %}
  {% dnd_area "dnd_area"
    label="Main section"
  %}

    {# Newsletter signup section #}

    {% dnd_section %}
      {% dnd_column %}
        {% dnd_row %}
          {% dnd_module
            path="../components/modules/Heading",
            headingAndTextHeading={{ scaffold_content.group_newsletter_signup.heading or template_translations.lp_newsletter_subscribe_one_main_heading.message }},
            groupStyle={
              "alignment": {
                "text_align": "CENTER"
              },
              "sectionStyleVariant": "section_variant_2"
            }
          %}
          {% end_dnd_module %}
        {% end_dnd_row %}
        {% dnd_row
          margin={
            "default": {
              "bottom": spacing_32
            }
          }
        %}
          {% dnd_module
            path="../components/modules/RichText",
            groupStyle={
              "sectionStyleVariant": "section_variant_2"
            }
          %}
            {% module_attribute "richTextContentHTML" %}
              <div style="text-align:center;">
                <p>{{ scaffold_content.group_newsletter_signup.description or template_translations.lp_newsletter_subscribe_one_main_description.message }}
                </p>
              </div>
            {% end_module_attribute %}
          {% end_dnd_module %}
        {% end_dnd_row %}
        {% dnd_row
          vertical_alignment="MIDDLE"
        %}
          {% dnd_column
            width=6,
            padding={
              "default": {
                "right": spacing_16
              },
              "mobile": {
                "bottom": spacing_32,
                "right": 0
              }
            }
          %}
            {% dnd_row %}
              {% dnd_module
                path="@hubspot/linked_image"
                img={
                  "alt": scaffold_content.group_newsletter_signup.newsletter_image.alt or "",
                  "loading": "eager",
                  "max_height": scaffold_content.group_newsletter_signup.newsletter_image.height or 680,
                  "max_width": scaffold_content.group_newsletter_signup.newsletter_image.width or 577,
                  "size_type": "auto_custom_max",
                  "src": scaffold_content.group_newsletter_signup.newsletter_image.src or get_asset_url("../images/newsletter-emails.png")
                }
              %}
              {% end_dnd_module %}
            {% end_dnd_row %}
          {% end_dnd_column %}
          {% dnd_column
            offset=6,
            width=6
          %}
            {% dnd_row %}
              {% dnd_module
                  path="@hubspot/form",
                  form={
                  "form_id": scaffold_content.group_newsletter_signup.form.form_id or "",
                  "response_type": scaffold_content.group_newsletter_signup.form.response_type or "redirect",
                  "redirect_id": scaffold_content.group_newsletter_signup.form.redirect_id or null,
                  "message": scaffold_content.group_newsletter_signup.form.message or ""
                  }
              %}
              {% end_dnd_module %}
            {% end_dnd_row %}
          {% end_dnd_column %}
        {% end_dnd_row %}
      {% end_dnd_column %}
    {% end_dnd_section %}

    {# Experts insights section #}

    {% include_dnd_partial
      path="../sections/about-us.hubl.html",
      context={
        "background_color": dark_section_1_background_color,
        "section_variant": "section_variant_4",
        "heading": {
          "text": scaffold_content.group_experts_insights.heading or template_translations.lp_newsletter_subscribe_one_experts_heading.message,
          "style_variant": "h1"
        },
        "content": experts_section_content|render,
        "image": {
          "src": scaffold_content.group_experts_insights.experts_image.src or get_asset_url("../images/event-highlight.png"),
          "alt": scaffold_content.group_experts_insights.experts_image.alt or "",
          "width": scaffold_content.group_experts_insights.experts_image.width or 600,
          "height": scaffold_content.group_experts_insights.experts_image.height or 745
        },
      }
    %}

    {# Marketing features section #}

    {% include_dnd_partial
      path="../sections/products-and-services.hubl.html",
      context={
        "heading": scaffold_content.group_marketing_features.section_heading or template_translations.lp_newsletter_subscribe_one_features_heading.message,
        "cards": [
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_1.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_1.content or template_translations.lp_newsletter_subscribe_one_card_1_content.message
          },
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_2.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_2.content or template_translations.lp_newsletter_subscribe_one_card_2_content.message
          },
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_3.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_3.content or template_translations.lp_newsletter_subscribe_one_card_3_content.message
          },
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_4.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_4.content or template_translations.lp_newsletter_subscribe_one_card_4_content.message
          },
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_5.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_5.content or template_translations.lp_newsletter_subscribe_one_card_5_content.message
          },
          {
            "heading": scaffold_content.group_marketing_features.group_feature_card_6.heading,
            "content": scaffold_content.group_marketing_features.group_feature_card_6.content or template_translations.lp_newsletter_subscribe_one_card_6_content.message
          }
        ]
      }
    %}

    {# Call to action section #}

    {% include_dnd_partial
      path="../sections/two-column-call-to-action.hubl.html",
      context={
        "background_color": light_section_2_background_color,
        "cards": [
          {
            "image": {
              "src": scaffold_content.group_call_to_action.cta_image.src,
              "alt": scaffold_content.group_call_to_action.cta_image.alt or "",
            },
            "heading": {
              "text": scaffold_content.group_call_to_action.heading
            },
            "button": {
              "text": scaffold_content.group_call_to_action.button_text or template_translations.lp_newsletter_subscribe_one_cta_button_text.message,
              "href": scaffold_content.group_call_to_action.button_link.url.href or "",
              "show_icon": false
            }
          }
        ]
      }
    %}

  {% end_dnd_area %}
{% endblock body %}

{% block footer %}
  {% global_partial path="./partials/lp-footer.hubl.html" %}
{% endblock footer %}
